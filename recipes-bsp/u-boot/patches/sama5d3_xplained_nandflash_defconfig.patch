--- a/configs/sama5d3_xplained_nandflash_defconfig
+++ b/configs/sama5d3_xplained_nandflash_defconfig
@@ -24,9 +24,10 @@
 CONFIG_SYS_LOAD_ADDR=0x22000000
 CONFIG_FIT=y
 CONFIG_NAND_BOOT=y
-CONFIG_BOOTDELAY=3
+CONFIG_BOOTDELAY=0
 CONFIG_USE_BOOTARGS=y
-CONFIG_BOOTARGS="console=ttyS0,115200 earlyprintk mtdparts=atmel_nand:256k(bootstrap)ro,768k(uboot)ro,256K(env_redundant),256k(env),512k(dtb),6M(kernel)ro,-(rootfs) rootfstype=ubifs ubi.mtd=6 root=ubi0:rootfs"
+CONFIG_BOOTARGS="console=ttyS0,115200 mtdparts=atmel_nand:64k(bootstrap)ro,704k(uboot)ro,256k(env),256k(env_redundant),256k(spare),512k(dtb),6M(kernel)ro,-(rootfs) rootfstype=ubifs ubi.mtd=7 root=ubi0:rootfs rw"
+CONFIG_SYS_USE_NANDFLASH=y
 # CONFIG_DISPLAY_BOARDINFO is not set
 CONFIG_SPL_NAND_SUPPORT=y
 CONFIG_SPL_NAND_DRIVERS=y
@@ -35,20 +36,21 @@
 CONFIG_CMD_BOOTZ=y
 # CONFIG_CMD_FLASH is not set
 # CONFIG_CMD_LOADS is not set
-CONFIG_CMD_MMC=y
+CONFIG_CMD_MMC=n
 CONFIG_CMD_NAND=y
 CONFIG_CMD_NAND_TRIMFFS=y
-CONFIG_CMD_USB=y
-CONFIG_CMD_DHCP=y
+CONFIG_CMD_USB=n
+CONFIG_CMD_DHCP=n
 CONFIG_CMD_MII=y
-CONFIG_CMD_PING=y
-CONFIG_CMD_HASH=y
+CONFIG_CMD_PING=n
+CONFIG_CMD_HASH=n
 CONFIG_HASH_VERIFY=y
-CONFIG_CMD_EXT4=y
-CONFIG_CMD_EXT4_WRITE=y
-CONFIG_CMD_FAT=y
+CONFIG_CMD_EXT4=n
+CONFIG_CMD_EXT4_WRITE=n
+CONFIG_CMD_FAT=n
 CONFIG_CMD_MTDPARTS=y
 CONFIG_CMD_UBI=y
+CONFIG_CMD_UBIFS=y
 CONFIG_OF_CONTROL=y
 CONFIG_SPL_OF_CONTROL=y
 CONFIG_OF_SPL_REMOVE_PROPS="interrupts interrupt-parent dmas dma-names"
@@ -64,7 +66,8 @@
 CONFIG_AT91_UTMI=y
 CONFIG_AT91_H32MX=y
 CONFIG_AT91_GPIO=y
-CONFIG_GENERIC_ATMEL_MCI=y
+CONFIG_DM_MMC=n
+CONFIG_GENERIC_ATMEL_MCI=n
 CONFIG_MTD=y
 CONFIG_NAND_ATMEL=y
 CONFIG_PMECC_CAP=4
@@ -76,13 +79,13 @@
 CONFIG_SYS_NAND_OOBSIZE=0x40
 CONFIG_SYS_NAND_U_BOOT_LOCATIONS=y
 CONFIG_SYS_NAND_U_BOOT_OFFS=0x40000
-CONFIG_DM_ETH=y
+CONFIG_DM_ETH=n
 CONFIG_MACB=y
 CONFIG_PINCTRL=y
 CONFIG_SPL_PINCTRL=y
 CONFIG_PINCTRL_AT91=y
 CONFIG_DM_SERIAL=y
-CONFIG_DEBUG_UART_ANNOUNCE=y
+CONFIG_DEBUG_UART_ANNOUNCE=n
 CONFIG_ATMEL_USART=y
 CONFIG_TIMER=y
 CONFIG_SYSRESET=y
@@ -92,11 +95,77 @@
 CONFIG_SPL_TIMER=y
 CONFIG_ATMEL_PIT_TIMER=y
 CONFIG_SPL_ATMEL_PIT_TIMER=y
-CONFIG_USB=y
-CONFIG_USB_EHCI_HCD=y
-CONFIG_USB_STORAGE=y
-CONFIG_W1=y
-CONFIG_W1_GPIO=y
-CONFIG_W1_EEPROM=y
+CONFIG_USB=n
+CONFIG_USB_EHCI_HCD=n
+CONFIG_USB_STORAGE=n
+CONFIG_CMD_BOOTEFI=n
+CONFIG_CMD_XIMG=n
+CONFIG_CMD_ELF=n
+CONFIG_W1=n
+CONFIG_W1_GPIO=n
+CONFIG_W1_EEPROM=n
 CONFIG_W1_EEPROM_DS24XXX=y
 CONFIG_OF_LIBFDT_OVERLAY=y
+CONFIG_FAT_WRITE=n
+CONFIG_NET=n
+CONFIG_CMD_TFTPBOOT=n
+CONFIG_CMD_BOOTP=n
+CONFIG_CMD_ECHO=n
+CONFIG_CMD_ITEST=n
+CONFIG_CMD_SOURCE=n
+CONFIG_CMD_SETEXPR=n
+CONFIG_CMD_NFS=n
+CONFIG_CMD_DATE=n
+CONFIG_CMD_TIME=n
+CONFIG_CMD_BLOB=n
+CONFIG_CMD_ZFS=n
+CONFIG_CMD_BEDBUG=n
+CONFIG_CMD_DIAG=n
+CONFIG_CMD_LOG=n
+CONFIG_CMD_TRACE=n
+CONFIG_CMD_DHRYSTONE=n
+CONFIG_CMD_HDMIDETECT=n
+CONFIG_CMD_KGDB=n
+CONFIG_CMD_ERRATA=n
+CONFIG_CMD_MEMTEST=n
+CONFIG_CMD_ASKENV=n
+CONFIG_CMD_DFU=n
+CONFIG_CMD_BMP=n
+CONFIG_USB_KEYBOARD=n
+CONFIG_USB_GADGET=n
+CONFIG_DISPLAY_BOARDINF=n
+CONFIG_CMD_BMODE=n
+CONFIG_CMD_BSP=n
+CONFIG_CMD_PCI=n
+CONFIG_CMD_SATA=n
+CONFIG_CMD_USB_SDP=n
+CONFIG_CMD_POWEROFF=n
+CONFIG_CMD_GO=n
+CONFIG_CMD_BOOTEFI_SELFTEST=n
+CONFIG_CMD_IMI=n
+CONFIG_CMD_IMLS=n
+CONFIG_CMD_IMLS_NAND=n
+CONFIG_CMD_EEPROM_LAYOUT=n
+CONFIG_CMD_FPGA=n
+CONFIG_CMD_GPT_RENAME=n
+CONFIG_CMD_CRAMFS=n
+CONFIG_CMD_FDC=n
+CONFIG_CMD_GETTIME=n
+CONFIG_CMD_IOTRACE=n
+CONFIG_CMD_MD5SUM=n
+CONFIG_CMD_PCMCIA=n
+CONFIG_CMD_ROCKUSB=n
+CONFIG_SYS_LONGHELP=n
+CONFIG_CMD_LOADB=n
+CONFIG_CMD_SNTP=n
+CONFIG_BOOTP_NTPSERVER=n
+CONFIG_CMD_RUN=n
+CONFIG_CMD_SMC=n
+CONFIG_CMD_HVC=n
+CONFIG_ENV_OFFSET=0xC0000
+CONFIG_ENV_SIZE=0x20000
+CONFIG_ATMEL_HLCD=y
+CONFIG_SPI=n
+CONFIG_LCD=y
+CONFIG_LCD_INFO=y
+CONFIG_DM_VIDEO=n
